{"name":"Week number","type":"virtual_device","properties":{"deviceIcon":1008,"currentIcon":"1008","log":"","logTemp":"","mainLoop":"local selfId = fibaro:getSelfId();\nlocal currentTime = os.date(\"%H:%M\");\nlocal currentDay = os.date(\"%A\");\nif (currentTime == \"00:01\" and currentDay == \"Monday\") or run ~= 1 then\n  currentWeek = os.date(\"%V\")\n  fibaro:call(selfId, \"setProperty\", \"ui.lblWeekNR.value\", currentWeek)\n  run = 1\nend","ui.lblWeekNR.value":"38","visible":"true","rows":[{"type":"label","elements":[{"id":1,"lua":false,"waitForResponse":false,"caption":"Week number","name":"lblWeekNR","favourite":false,"main":true}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}