{"name":"FSBPi","type":"virtual_device","properties":{"deviceIcon":1042,"currentIcon":"1042","log":"","logTemp":"","mainLoop":"local selfId = fibaro:getSelfId();\nlocal currentTime = os.date(\"%H:%M\");\nlocal checkTimes = {\"08:00\",\"09:00\",\"10:00\",\"11:00\",\"12:00\",\"13:00\",\"14:00\",\"15:00\",\"16:00\",\"17:00\",\"18:00\",\"19:00\",\"20:00\",\"21:00\",\"22:00\"}\nfor t=1,#checkTimes do\n  if currentTime == checkTimes[t] then\n    fibaro:call(selfId, \"pressButton\", \"1\");\n  end\nend\nfibaro:sleep(55*1000)","ui.Label11.value":"","ui.Label16.value":"","ui.lblAlarm.value":"","ui.lblDeksel.value":"Dicht","ui.lblError.value":"","ui.lblFlow.value":"12.35 m3","ui.lblLaatsteSpoeltijd.value":"00:16:02","ui.lblLastUpdate.value":"Mon Aug 12 12:40:09 2019","ui.lblLuchtpomp.value":"Aan","ui.lblSpoeltijden.value":"00:16:02<br/>00:14:04<br/>00:14:20<br/>00:00:12<br/>00:13:04<br/>00:12:25<br/>00:11:54<br/>00:15:07<br/>00:00:13<br/>00:14:20<br/>","ui.lblStatus.value":"Aan","ui.lblStroomwaarde.value":"S1 not entered!","ui.lblUVC.value":"Aan (89 uur)","ui.lblVijverpomp.value":"Aan (60%)","ui.lblWaterniveau.value":"27.17 (22) cm","ui.lblWatertemperatuur.value":"19.62 Â°C","visible":"true","rows":[{"type":"button","elements":[{"id":1,"lua":true,"waitForResponse":false,"caption":"Update","name":"btnUpdate","empty":false,"msg":"fibaro:log(\"Getting data...\");\nlocal selfId = fibaro:getSelfId();\nlocal ip = fibaro:getValue(selfId, 'IPAddress')\nlocal scene = fibaro:get(selfId, 'TCPPort');\nlocal icon = fibaro:get(selfId, \"deviceIcon\");\nfibaro:call(selfId, \"setProperty\", \"currentIcon\", icon)\nfibaro:startScene(scene,{selfId, ip, \"PHPSESSID=38ir03ovkkud7qkveaa8c9bt57\", \"fsbpi\", \"update\"});\nfibaro:sleep(3000);","buttonIcon":1042,"favourite":false,"main":true}]},{"type":"label","elements":[{"id":2,"lua":false,"waitForResponse":false,"caption":"Status","name":"lblStatus","favourite":false,"main":false}]},{"type":"label","elements":[{"id":3,"lua":false,"waitForResponse":false,"caption":"Temperatuur","name":"lblWatertemperatuur","favourite":false,"main":false}]},{"type":"label","elements":[{"id":4,"lua":false,"waitForResponse":false,"caption":"Waterniveau","name":"lblWaterniveau","favourite":false,"main":false}]},{"type":"label","elements":[{"id":5,"lua":false,"waitForResponse":false,"caption":"Flow","name":"lblFlow","favourite":false,"main":false}]},{"type":"label","elements":[{"id":6,"lua":false,"waitForResponse":false,"caption":"Stroomwaarde","name":"lblStroomwaarde","favourite":false,"main":false}]},{"type":"label","elements":[{"id":7,"lua":false,"waitForResponse":false,"caption":"UVC","name":"lblUVC","favourite":false,"main":false}]},{"type":"button","elements":[{"id":8,"lua":true,"waitForResponse":false,"caption":"UVC Aan/Uit","name":"btnUVC","empty":false,"msg":"fibaro:log(\"Getting data...\");\nlocal selfId = fibaro:getSelfId();\nlocal ip = fibaro:getValue(selfId, 'IPAddress')\nlocal scene = fibaro:get(selfId, 'TCPPort');\nfibaro:startScene(scene,{selfId, ip, \"PHPSESSID=38ir03ovkkud7qkveaa8c9bt57\", \"fsbpi\", \"uv\"});\nfibaro:sleep(3000);","buttonIcon":1042,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":9,"lua":false,"waitForResponse":false,"caption":"Vijverpomp","name":"lblVijverpomp","favourite":false,"main":false}]},{"type":"button","elements":[{"id":10,"lua":true,"waitForResponse":false,"caption":"60%","name":"lbl60","empty":false,"msg":"fibaro:log(\"Getting data...\");\nlocal selfId = fibaro:getSelfId();\nlocal ip = fibaro:getValue(selfId, 'IPAddress')\nlocal scene = fibaro:get(selfId, 'TCPPort');\nfibaro:startScene(scene,{selfId, ip, \"PHPSESSID=38ir03ovkkud7qkveaa8c9bt57\", \"fsbpi\", \"pondpump\", \"60\"});\nfibaro:sleep(3000);","buttonIcon":1042,"favourite":false,"main":false},{"id":11,"lua":true,"waitForResponse":false,"caption":"70%","name":"lbl70","empty":false,"msg":"fibaro:log(\"Getting data...\");\nlocal selfId = fibaro:getSelfId();\nlocal ip = fibaro:getValue(selfId, 'IPAddress')\nlocal scene = fibaro:get(selfId, 'TCPPort');\nlocal icon = fibaro:get(selfId, \"deviceIcon\");\nfibaro:call(selfId, \"setProperty\", \"currentIcon\", icon)\nfibaro:startScene(scene,{selfId, ip, \"PHPSESSID=38ir03ovkkud7qkveaa8c9bt57\", \"fsbpi\", \"pondpump\", \"70\"});\nfibaro:sleep(3000);","buttonIcon":0,"favourite":false,"main":false},{"id":12,"lua":true,"waitForResponse":false,"caption":"80%","name":"lbl80","empty":false,"msg":"fibaro:log(\"Getting data...\");\nlocal selfId = fibaro:getSelfId();\nlocal ip = fibaro:getValue(selfId, 'IPAddress')\nlocal scene = fibaro:get(selfId, 'TCPPort');\nlocal icon = fibaro:get(selfId, \"deviceIcon\");\nfibaro:call(selfId, \"setProperty\", \"currentIcon\", icon)\nfibaro:startScene(scene,{selfId, ip, \"PHPSESSID=38ir03ovkkud7qkveaa8c9bt57\", \"fsbpi\", \"pondpump\", \"80\"});\nfibaro:sleep(3000);","buttonIcon":0,"favourite":false,"main":false},{"id":13,"lua":true,"waitForResponse":false,"caption":"90%","name":"lbl90","empty":false,"msg":"fibaro:log(\"Getting data...\");\nlocal selfId = fibaro:getSelfId();\nlocal ip = fibaro:getValue(selfId, 'IPAddress')\nlocal scene = fibaro:get(selfId, 'TCPPort');\nlocal icon = fibaro:get(selfId, \"deviceIcon\");\nfibaro:call(selfId, \"setProperty\", \"currentIcon\", icon)\nfibaro:startScene(scene,{selfId, ip, \"PHPSESSID=38ir03ovkkud7qkveaa8c9bt57\", \"fsbpi\", \"pondpump\", \"90\"});\nfibaro:sleep(3000);","buttonIcon":0,"favourite":false,"main":false},{"id":14,"lua":true,"waitForResponse":false,"caption":"Max","name":"lblMax","empty":false,"msg":"fibaro:log(\"Getting data...\");\nlocal selfId = fibaro:getSelfId();\nlocal ip = fibaro:getValue(selfId, 'IPAddress')\nlocal scene = fibaro:get(selfId, 'TCPPort');\nlocal icon = fibaro:get(selfId, \"deviceIcon\");\nfibaro:call(selfId, \"setProperty\", \"currentIcon\", icon)\nfibaro:startScene(scene,{selfId, ip, \"PHPSESSID=38ir03ovkkud7qkveaa8c9bt57\", \"fsbpi\", \"pondpump\", \"100\"});\nfibaro:sleep(3000);","buttonIcon":0,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":15,"lua":false,"waitForResponse":false,"caption":"Deksel","name":"lblDeksel","favourite":false,"main":false}]},{"type":"label","elements":[{"id":16,"lua":false,"waitForResponse":false,"caption":"Luchtpomp","name":"lblLuchtpomp","favourite":false,"main":false}]},{"type":"button","elements":[{"id":17,"lua":true,"waitForResponse":false,"caption":"Luchtpomp Aan/Uit","name":"Luchtpomp","empty":false,"msg":"fibaro:log(\"Getting data...\");\nlocal selfId = fibaro:getSelfId();\nlocal ip = fibaro:getValue(selfId, 'IPAddress')\nlocal scene = fibaro:get(selfId, 'TCPPort');\nlocal icon = fibaro:get(selfId, \"deviceIcon\");\nfibaro:call(selfId, \"setProperty\", \"currentIcon\", icon)\nfibaro:startScene(scene,{selfId, ip, \"PHPSESSID=38ir03ovkkud7qkveaa8c9bt57\", \"fsbpi\", \"airpump\"});\nfibaro:sleep(3000);","buttonIcon":0,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":18,"lua":false,"waitForResponse":false,"caption":"","name":"Label11","favourite":false,"main":false}]},{"type":"label","elements":[{"id":19,"lua":false,"waitForResponse":false,"caption":"Spoeltijden","name":"lblSpoeltijden","favourite":false,"main":false}]},{"type":"label","elements":[{"id":20,"lua":false,"waitForResponse":false,"caption":"Laatste","name":"lblLaatsteSpoeltijd","favourite":false,"main":true}]},{"type":"button","elements":[{"id":21,"lua":true,"waitForResponse":false,"caption":"Spoelen","name":"btnSpoelen","empty":false,"msg":"fibaro:log(\"Getting data...\");\nlocal selfId = fibaro:getSelfId();\nlocal ip = fibaro:getValue(selfId, 'IPAddress')\nlocal scene = fibaro:get(selfId, 'TCPPort');\nlocal icon = fibaro:get(selfId, \"deviceIcon\");\nfibaro:call(selfId, \"setProperty\", \"currentIcon\", icon)\nfibaro:startScene(scene,{selfId, ip, \"PHPSESSID=38ir03ovkkud7qkveaa8c9bt57\", \"fsbpi\", \"trommelpump\"});\nfibaro:sleep(3000);","buttonIcon":0,"favourite":false,"main":false}]},{"type":"label","elements":[{"id":22,"lua":false,"waitForResponse":false,"caption":"","name":"Label16","favourite":false,"main":false}]},{"type":"label","elements":[{"id":23,"lua":false,"waitForResponse":false,"caption":"Alarm","name":"lblAlarm","favourite":false,"main":false}]},{"type":"label","elements":[{"id":24,"lua":false,"waitForResponse":false,"caption":"Last Update","name":"lblLastUpdate","favourite":false,"main":false}]},{"type":"label","elements":[{"id":25,"lua":false,"waitForResponse":false,"caption":"","name":"lblError","favourite":false,"main":false}]}]},"actions":{"pressButton":1,"setSlider":2,"setProperty":2}}